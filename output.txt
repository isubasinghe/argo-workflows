GIT_COMMIT=5a5de6728ad717754c14f574d398228edb2cf999 GIT_BRANCH=master GIT_TAG=untagged GIT_TREE_STATE=dirty RELEASE_TAG=false DEV_BRANCH=false VERSION=latest
KUBECTX=k3d-k3s-default DOCKER_DESKTOP=false K3D=true DOCKER_PUSH=false
RUN_MODE=local PROFILE=minimal AUTH_MODE=hybrid SECURE=false STATIC_FILES=false ALWAYS_OFFLOAD_NODE_STATUS=false UPPERIO_DB_DEBUG=0 LOG_LEVEL=debug NAMESPACED=true
kubectl get ns argo || kubectl create ns argo
NAME   STATUS   AGE
argo   Active   85d
kubectl config set-context --current --namespace=argo
Context "k3d-k3s-default" modified.
installing PROFILE=minimal
kubectl kustomize --load-restrictor=LoadRestrictionsNone test/e2e/manifests/minimal | sed 's|quay.io/argoproj/|quay.io/argoproj/|' | sed 's/namespace: argo/namespace: argo/' | kubectl -n argo apply --prune -l app.kubernetes.io/part-of=argo -f -
customresourcedefinition.apiextensions.k8s.io/clusterworkflowtemplates.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/cronworkflows.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/eventbus.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/eventsources.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/sensors.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/workflowartifactgctasks.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/workfloweventbindings.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/workflows.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/workflowtaskresults.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/workflowtasksets.argoproj.io unchanged
customresourcedefinition.apiextensions.k8s.io/workflowtemplates.argoproj.io unchanged
serviceaccount/argo unchanged
serviceaccount/argo-server unchanged
serviceaccount/github.com unchanged
role.rbac.authorization.k8s.io/agent unchanged
role.rbac.authorization.k8s.io/argo-role unchanged
role.rbac.authorization.k8s.io/argo-server-role unchanged
role.rbac.authorization.k8s.io/artifactgc unchanged
role.rbac.authorization.k8s.io/executor unchanged
role.rbac.authorization.k8s.io/pod-manager unchanged
role.rbac.authorization.k8s.io/submit-workflow-template unchanged
role.rbac.authorization.k8s.io/workflow-manager unchanged
clusterrole.rbac.authorization.k8s.io/argo-clusterworkflowtemplate-role unchanged
clusterrole.rbac.authorization.k8s.io/argo-server-clusterworkflowtemplate-role unchanged
rolebinding.rbac.authorization.k8s.io/agent-default unchanged
rolebinding.rbac.authorization.k8s.io/argo-binding unchanged
rolebinding.rbac.authorization.k8s.io/argo-server-binding unchanged
rolebinding.rbac.authorization.k8s.io/artifactgc-default unchanged
rolebinding.rbac.authorization.k8s.io/executor-default unchanged
rolebinding.rbac.authorization.k8s.io/github.com unchanged
rolebinding.rbac.authorization.k8s.io/pod-manager-default unchanged
rolebinding.rbac.authorization.k8s.io/workflow-manager-default unchanged
clusterrolebinding.rbac.authorization.k8s.io/argo-clusterworkflowtemplate-role-binding unchanged
clusterrolebinding.rbac.authorization.k8s.io/argo-server-clusterworkflowtemplate-role-binding unchanged
configmap/artifact-repositories unchanged
configmap/workflow-controller-configmap unchanged
secret/argo-server-sso configured
secret/argo-server.service-account-token unchanged
secret/argo-workflows-agent-ca-certificates configured
secret/argo-workflows-webhook-clients configured
secret/default.service-account-token unchanged
secret/github.com.service-account-token unchanged
secret/my-httpbin-cred configured
secret/my-minio-cred configured
service/argo-server unchanged
service/httpbin unchanged
service/minio unchanged
priorityclass.scheduling.k8s.io/workflow-controller unchanged
deployment.apps/argo-server configured
deployment.apps/httpbin unchanged
deployment.apps/minio unchanged
deployment.apps/workflow-controller unchanged
CGO_ENABLED=0 go build -gcflags '' -v -ldflags '-X github.com/argoproj/argo-workflows/v3.version=latest -X github.com/argoproj/argo-workflows/v3.buildDate=2023-01-27T08:51:51Z -X github.com/argoproj/argo-workflows/v3.gitCommit=5a5de6728ad717754c14f574d398228edb2cf999 -X github.com/argoproj/argo-workflows/v3.gitTreeState=dirty -X github.com/argoproj/argo-workflows/v3.gitTag=untagged -extldflags -static' -o dist/workflow-controller ./cmd/workflow-controller
starting STATIC_FILES=false (DEV_BRANCH=false, GIT_BRANCH=master), AUTH_MODE=hybrid, RUN_MODE=local, MANAGED_NAMESPACE=argo
⚠️️  not starting API. If you want to test the API, use 'make start API=true' to start it
⚠️  not starting UI. If you want to test the UI, run 'make start UI=true' to start it
# Check dex, minio, postgres and mysql are in hosts file
grep '127.0.0.1.*azurite' /etc/hosts
127.0.0.1 azurite
grep '127.0.0.1.*minio' /etc/hosts
127.0.0.1 minio
grep '127.0.0.1.*postgres' /etc/hosts
127.0.0.1 postgres
grep '127.0.0.1.*mysql' /etc/hosts
127.0.0.1 mysql
./hack/port-forward.sh
wait-for minio
deployment.apps/minio condition met
port-forward minio 9000
Forwarding from 127.0.0.1:9000 -> 9000
Forwarding from [::1]:9000 -> 9000
port-forward minio 9001
Forwarding from 127.0.0.1:9001 -> 9001
Forwarding from [::1]:9001 -> 9001
env DEFAULT_REQUEUE_TIME=1s SECURE=false ALWAYS_OFFLOAD_NODE_STATUS=false LOG_LEVEL=debug UPPERIO_DB_DEBUG=0 IMAGE_NAMESPACE=quay.io/argoproj VERSION=latest AUTH_MODE=hybrid NAMESPACED=true NAMESPACE=argo MANAGED_NAMESPACE=argo CTRL=true LOGS=true UI=false API=false PLUGINS=true /home/isubasinghe/go/bin/goreman -set-ports=false -logtime=false start | grep ""
[35m         ui | [mTerminating ui
[36margo-server | [mTerminating argo-server
[33m       logs | [mmake[1]: Entering directory '/home/isubasinghe/go/src/github.com/argoproj/argo-workflows'
[33m       logs | [mGIT_COMMIT=5a5de6728ad717754c14f574d398228edb2cf999 GIT_BRANCH=master GIT_TAG=untagged GIT_TREE_STATE=dirty RELEASE_TAG=false DEV_BRANCH=false VERSION=latest
[33m       logs | [mKUBECTX=k3d-k3s-default DOCKER_DESKTOP=false K3D=true DOCKER_PUSH=false
[33m       logs | [mRUN_MODE=local PROFILE=minimal AUTH_MODE=hybrid SECURE=false STATIC_FILES=true ALWAYS_OFFLOAD_NODE_STATUS=false UPPERIO_DB_DEBUG=0 LOG_LEVEL=debug NAMESPACED=true
[32m controller | [mtime="2023-01-27T19:51:59+11:00" level=info msg="index config" indexWorkflowSemaphoreKeys=true
[32m controller | [mtime="2023-01-27T19:51:59+11:00" level=info msg="cron config" cronSyncPeriod=10s
[32m controller | [mtime="2023-01-27T19:51:59+11:00" level=info msg="Memoization caches will be garbage-collected if they have not been hit after" gcAfterNotHitDuration=30s
[32m controller | [mtime="2023-01-27T19:51:59.794Z" level=info msg="not enabling pprof debug endpoints"
[32m controller | [mtime="2023-01-27T19:51:59.797Z" level=info msg="Get configmaps 200"
[32m controller | [mtime="2023-01-27T19:51:59.800Z" level=info msg="Configuration:\nartifactRepository:\n  s3:\n    accessKeySecret:\n      key: accesskey\n      name: my-minio-cred\n    bucket: my-bucket\n    endpoint: minio:9000\n    insecure: true\n    secretKeySecret:\n      key: secretkey\n      name: my-minio-cred\nexecutor:\n  imagePullPolicy: IfNotPresent\n  name: \"\"\n  resources:\n    limits:\n      cpu: 500m\n      memory: 128Mi\n    requests:\n      cpu: 100m\n      memory: 64Mi\nimages:\n  docker/whalesay:latest:\n    cmd:\n    - cowsay\ninitialDelay: 0s\nlinks:\n- name: Workflow Link\n  scope: workflow\n  url: http://logging-facility?namespace=${metadata.namespace}&workflowName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Pod Link\n  scope: pod\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Pod Logs Link\n  scope: pod-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Event Source Logs Link\n  scope: event-source-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Sensor Logs Link\n  scope: sensor-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\nmetricsConfig:\n  enabled: true\n  path: /metrics\n  port: 9090\nnamespaceParallelism: 10\nnodeEvents: {}\npodSpecLogStrategy: {}\nretentionPolicy:\n  completed: 10\n  errored: 2\n  failed: 2\nsso:\n  clientId:\n    key: \"\"\n  clientSecret:\n    key: \"\"\n  issuer: \"\"\n  redirectUrl: \"\"\n  sessionExpiry: 0s\ntelemetryConfig: {}\nworkflowDefaults:\n  metadata:\n    creationTimestamp: null\n  spec:\n    activeDeadlineSeconds: 300\n    arguments: {}\n    podSpecPatch: |\n      terminationGracePeriodSeconds: 3\n  status:\n    finishedAt: null\n    startedAt: null\n"
[32m controller | [mtime="2023-01-27T19:51:59.800Z" level=info msg="Persistence configuration disabled"
[32m controller | [mtime="2023-01-27T19:51:59.800Z" level=info executorImage="quay.io/argoproj/argoexec:latest" executorImagePullPolicy=IfNotPresent managedNamespace=argo
[32m controller | [mI0127 19:51:59.800662   66329 leaderelection.go:248] attempting to acquire leader lease argo/workflow-controller...
[32m controller | [mtime="2023-01-27T19:51:59.801Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=info msg="Update leases 200"
[32m controller | [mI0127 19:51:59.804278   66329 leaderelection.go:258] successfully acquired lease argo/workflow-controller
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=info msg="new leader" leader=local
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=info msg="Starting Workflow Controller" defaultRequeueTime=1s version=latest+5a5de67.dirty
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=info msg="Current Worker Numbers" podCleanup=4 workflow=32 workflowTtl=4
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Lease\", Namespace:\"argo\", Name:\"workflow-controller\", UID:\"ed78e68f-b575-4803-9103-b4d5f0117d68\", APIVersion:\"coordination.k8s.io/v1\", ResourceVersion:\"526409\", FieldPath:\"\"}): type: 'Normal' reason: 'LeaderElection' local became leader"
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=info msg="Watching task results" labelSelector="!workflows.argoproj.io/controller-instanceid,workflows.argoproj.io/workflow"
[32m controller | [mtime="2023-01-27T19:51:59.804Z" level=info msg=Plugins executorPlugins=true
[32m controller | [mtime="2023-01-27T19:51:59.805Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:51:59.806Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:51:59.807Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:51:59.807Z" level=info msg="List workflows 200"
[32m controller | [mtime="2023-01-27T19:51:59.809Z" level=info msg="Manager initialized successfully"
[32m controller | [mtime="2023-01-27T19:51:59.809Z" level=debug msg=CanI name= namespace=argo resource=clusterworkflowtemplates verb=get
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="Watch configmaps 200"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="List workflowartifactgctasks 200"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="Create selfsubjectaccessreviews 201"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=debug msg=CanI name= namespace=argo resource=clusterworkflowtemplates status="{true false  }" verb=get
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=debug msg=CanI name= namespace=argo resource=clusterworkflowtemplates verb=list
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=debug msg="received config map argo/argo-sync-storage update"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="List workflowtasksets 200"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=debug msg="received config map argo/simple-parameters update"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="List workflowtemplates 200"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="List configmaps 200"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="List pods 200"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=debug msg="received config map argo/workflow-controller-configmap update"
[32m controller | [mtime="2023-01-27T19:51:59.810Z" level=info msg="Received Workflow Controller config map argo/workflow-controller-configmap update"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="List workflows 200"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="List workflowtaskresults 200"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Configuration:\nartifactRepository:\n  s3:\n    accessKeySecret:\n      key: accesskey\n      name: my-minio-cred\n    bucket: my-bucket\n    endpoint: minio:9000\n    insecure: true\n    secretKeySecret:\n      key: secretkey\n      name: my-minio-cred\nexecutor:\n  imagePullPolicy: IfNotPresent\n  name: \"\"\n  resources:\n    limits:\n      cpu: 500m\n      memory: 128Mi\n    requests:\n      cpu: 100m\n      memory: 64Mi\nimages:\n  docker/whalesay:latest:\n    cmd:\n    - cowsay\ninitialDelay: 0s\nlinks:\n- name: Workflow Link\n  scope: workflow\n  url: http://logging-facility?namespace=${metadata.namespace}&workflowName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Pod Link\n  scope: pod\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Pod Logs Link\n  scope: pod-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Event Source Logs Link\n  scope: event-source-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Sensor Logs Link\n  scope: sensor-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\nmetricsConfig:\n  enabled: true\n  path: /metrics\n  port: 9090\nnamespaceParallelism: 10\nnodeEvents: {}\npodSpecLogStrategy: {}\nretentionPolicy:\n  completed: 10\n  errored: 2\n  failed: 2\nsso:\n  clientId:\n    key: \"\"\n  clientSecret:\n    key: \"\"\n  issuer: \"\"\n  redirectUrl: \"\"\n  sessionExpiry: 0s\ntelemetryConfig: {}\nworkflowDefaults:\n  metadata:\n    creationTimestamp: null\n  spec:\n    activeDeadlineSeconds: 300\n    arguments: {}\n    podSpecPatch: |\n      terminationGracePeriodSeconds: 3\n  status:\n    finishedAt: null\n    startedAt: null\n"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Persistence configuration disabled"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info executorImage="quay.io/argoproj/argoexec:latest" executorImagePullPolicy=IfNotPresent managedNamespace=argo
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Successfully Workflow Controller config map argo/workflow-controller-configmap updated"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=debug msg="received config map argo/artifact-repositories update"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Watch workflowartifactgctasks 200"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=debug msg="received config map argo/kube-root-ca.crt update"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Watch workflowtemplates 200"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Create selfsubjectaccessreviews 201"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Watch workflowtasksets 200"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=debug msg=CanI name= namespace=argo resource=clusterworkflowtemplates status="{true false  }" verb=list
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=debug msg=CanI name= namespace=argo resource=clusterworkflowtemplates verb=watch
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Watch configmaps 200"
[32m controller | [mtime="2023-01-27T19:51:59.811Z" level=info msg="Watch pods 200"
[32m controller | [mtime="2023-01-27T19:51:59.812Z" level=info msg="Create selfsubjectaccessreviews 201"
[32m controller | [mtime="2023-01-27T19:51:59.812Z" level=debug msg=CanI name= namespace=argo resource=clusterworkflowtemplates status="{true false  }" verb=watch
[32m controller | [mtime="2023-01-27T19:51:59.812Z" level=info msg="Watch workflows 200"
[32m controller | [mtime="2023-01-27T19:51:59.812Z" level=info msg="Watch workflowtaskresults 200"
[32m controller | [mtime="2023-01-27T19:51:59.813Z" level=info msg="List clusterworkflowtemplates 200"
[32m controller | [mtime="2023-01-27T19:51:59.813Z" level=info msg="Watch clusterworkflowtemplates 200"
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=info msg="Persistence disabled - so archived workflow GC disabled - you must restart the controller if you enable this"
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=info msg="Performing periodic GC" periodicity=30s
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=debug msg="Check the workflow existence"
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=info msg="Starting CronWorkflow controller"
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=debug msg="Syncing all CronWorkflows"
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=info msg="Starting workflow garbage collector controller (retentionWorkers 4)"
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=info msg="Started workflow garbage collection"
[32m controller | [mW0127 19:51:59.913472   66329 shared_informer.go:401] The sharedIndexInformer has started, run more than once is not allowed
[32m controller | [mtime="2023-01-27T19:51:59.913Z" level=info msg="Starting prometheus metrics server at localhost:9090/metrics"
[32m controller | [mtime="2023-01-27T19:51:59.915Z" level=info msg="List cronworkflows 200"
[32m controller | [mtime="2023-01-27T19:51:59.915Z" level=info msg="List workflows 200"
[32m controller | [mtime="2023-01-27T19:51:59.916Z" level=info msg="Watch cronworkflows 200"
[32m controller | [mtime="2023-01-27T19:51:59.916Z" level=info msg="Watch workflows 200"
[33m       logs | [m/home/isubasinghe/go/bin/stern -l workflows.argoproj.io/workflow 2>&1
[32m controller | [mtime="2023-01-27T19:52:04.811Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:04.816Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template by name"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template by name"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.664Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.665Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="Get configmaps 200"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="resolved artifact repository" artifactRepositoryRef="argo/#"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="Updated phase  -> Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526415\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowRunning' Workflow Running"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg=isitha10
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="DAG node dag-diamond-jsontest-4h5t6 initialized Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="All of node dag-diamond-jsontest-4h5t6.a dependencies [] completed" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.a: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg=isitha10
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6.a: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=info msg="Pod node dag-diamond-jsontest-4h5t6-3265534374 initialized Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:07.667Z" level=debug namespace=argo needLocation=true workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.668Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:07.668Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:07.668Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:07.668Z" level=debug msg="Creating Pod: dag-diamond-jsontest-4h5t6.a (dag-diamond-jsontest-4h5t6-write-json-3265534374)" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.668Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:07.673Z" level=info msg="Create pods 201"
[32m controller | [mtime="2023-01-27T19:52:07.674Z" level=info msg="Created pod: dag-diamond-jsontest-4h5t6.a (dag-diamond-jsontest-4h5t6-write-json-3265534374)" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.674Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.674Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.674Z" level=debug msg="Log changes patch: {\"metadata\":{\"annotations\":{\"workflows.argoproj.io/pod-name-format\":\"v2\"},\"labels\":{\"workflows.argoproj.io/phase\":\"Running\"}},\"spec\":{\"activeDeadlineSeconds\":300,\"podSpecPatch\":\"terminationGracePeriodSeconds: 3\\n\"},\"status\":{\"artifactGCStatus\":{\"notSpecified\":true},\"artifactRepositoryRef\":{\"artifactRepository\":{\"archiveLogs\":true,\"s3\":{\"accessKeySecret\":{\"key\":\"accesskey\",\"name\":\"my-minio-cred\"},\"bucket\":\"my-bucket\",\"endpoint\":\"minio:9000\",\"insecure\":true,\"secretKeySecret\":{\"key\":\"secretkey\",\"name\":\"my-minio-cred\"}}},\"configMap\":\"artifact-repositories\",\"key\":\"default-v1\",\"namespace\":\"argo\"},\"nodes\":{\"dag-diamond-jsontest-4h5t6\":{\"children\":[\"dag-diamond-jsontest-4h5t6-3265534374\"],\"displayName\":\"dag-diamond-jsontest-4h5t6\",\"finishedAt\":null,\"id\":\"dag-diamond-jsontest-4h5t6\",\"name\":\"dag-diamond-jsontest-4h5t6\",\"phase\":\"Running\",\"startedAt\":\"2023-01-27T08:52:07Z\",\"templateName\":\"diamond\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"DAG\"},\"dag-diamond-jsontest-4h5t6-3265534374\":{\"boundaryID\":\"dag-diamond-jsontest-4h5t6\",\"displayName\":\"a\",\"finishedAt\":null,\"id\":\"dag-diamond-jsontest-4h5t6-3265534374\",\"inputs\":{\"parameters\":[{\"name\":\"dummyv1\",\"value\":\"dv1\"},{\"name\":\"dummyv2\",\"value\":\"dv2\"}]},\"name\":\"dag-diamond-jsontest-4h5t6.a\",\"phase\":\"Pending\",\"startedAt\":\"2023-01-27T08:52:07Z\",\"templateName\":\"write-json\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"Pod\"}},\"phase\":\"Running\",\"startedAt\":\"2023-01-27T08:52:07Z\"}}"
[32m controller | [mtime="2023-01-27T19:52:07.675Z" level=info msg="Workflow to be dehydrated" Workflow Size=2079
[32m controller | [mtime="2023-01-27T19:52:07.678Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:07.678Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526419 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:07.678Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526419\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6"
[32m controller | [mtime="2023-01-27T19:52:07.680Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:08.665Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=0 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="node changed" namespace=argo new.message=PodInitializing new.phase=Pending new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-3265534374 old.message= old.phase=Pending old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.a: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.a of Pod is Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:08.666Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:08.667Z" level=debug msg="Skipped pod dag-diamond-jsontest-4h5t6.a (dag-diamond-jsontest-4h5t6-3265534374) creation: already exists" namespace=argo podPhase=Pending workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.667Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.667Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:08.667Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"False\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-3265534374\":{\"hostNodeName\":\"k3d-k3s-default-server-0\",\"message\":\"PodInitializing\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:08.667Z" level=info msg="Workflow to be dehydrated" Workflow Size=2356
[32m controller | [mtime="2023-01-27T19:52:08.673Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:08.673Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526426 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.819Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:09.822Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=0 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="node unchanged" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-3265534374 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.a: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.a of Pod is Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:09.823Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:09.824Z" level=debug msg="Skipped pod dag-diamond-jsontest-4h5t6.a (dag-diamond-jsontest-4h5t6-3265534374) creation: already exists" namespace=argo podPhase=Pending workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.824Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:09.824Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[33m       logs | [m+ dag-diamond-jsontest-4h5t6-write-json-3265534374 › wait
[33m       logs | [m+ dag-diamond-jsontest-4h5t6-write-json-3265534374 › main
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:08.912Z" level=info msg="Starting Workflow Executor" version=latest+5a5de67.dirty
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 main time="2023-01-27T08:52:08.999Z" level=info msg="capturing logs" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:08.913Z" level=info msg="Using executor retry strategy" Duration=1s Factor=1.6 Jitter=0.5 Steps=5
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:08.913Z" level=info msg="Executor initialized" deadline="2023-01-27 08:57:07 +0000 UTC" includeScriptOutput=false namespace=argo podName=dag-diamond-jsontest-4h5t6-write-json-3265534374 template="{\"name\":\"write-json\",\"inputs\":{\"parameters\":[{\"name\":\"dummyv1\",\"value\":\"dv1\"},{\"name\":\"dummyv2\",\"value\":\"dv2\"}]},\"outputs\":{\"parameters\":[{\"name\":\"stepout\",\"valueFrom\":{\"path\":\"/tmp/myfile.json\"}}]},\"metadata\":{},\"script\":{\"name\":\"\",\"image\":\"python:alpine3.6\",\"command\":[\"python\"],\"resources\":{},\"source\":\"import json\\nargs = [dict(dummyv1='one', dummyv2='two')]\\nwith open(\\\"/tmp/myfile.json\\\", \\\"w\\\") as fd:\\n  tmp = json.dumps(args)\\n  fd.write(tmp)\\n\"},\"archiveLocation\":{\"archiveLogs\":true,\"s3\":{\"endpoint\":\"minio:9000\",\"bucket\":\"my-bucket\",\"insecure\":true,\"accessKeySecret\":{\"name\":\"my-minio-cred\",\"key\":\"accesskey\"},\"secretKeySecret\":{\"name\":\"my-minio-cred\",\"key\":\"secretkey\"},\"key\":\"dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3265534374\"}}}" version="&Version{Version:latest+5a5de67.dirty,BuildDate:2023-01-27T08:21:51Z,GitCommit:5a5de6728ad717754c14f574d398228edb2cf999,GitTag:untagged,GitTreeState:dirty,GoVersion:go1.18.10,Compiler:gc,Platform:linux/amd64,}"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 main time="2023-01-27T08:52:09.000Z" level=debug msg="ignore signal urgent I/O condition" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:08.914Z" level=info msg="Starting deadline monitor"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 main time="2023-01-27T08:52:09.000Z" level=debug msg="ignore signal urgent I/O condition" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 main time="2023-01-27T08:52:09.056Z" level=debug msg="ignore signal child exited" argo=true
[32m controller | [mtime="2023-01-27T19:52:09.913Z" level=debug msg="Syncing all CronWorkflows"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 main time="2023-01-27T08:52:10.001Z" level=info msg="sub-process exited" argo=true error="<nil>"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 main time="2023-01-27T08:52:10.001Z" level=info msg="/tmp/myfile.json -> /var/run/argo/outputs/parameters//tmp/myfile.json" argo=true
[33m       logs | [m- dag-diamond-jsontest-4h5t6-write-json-3265534374 › main
[32m controller | [mtime="2023-01-27T19:52:10.829Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.829Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.829Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=0 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.829Z" level=info msg="node changed" namespace=argo new.message= new.phase=Running new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-3265534374 old.message=PodInitializing old.phase=Pending old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.a: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.a of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"True\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-3265534374\":{\"message\":null,\"outputs\":{\"exitCode\":\"0\"},\"phase\":\"Running\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:10.830Z" level=info msg="Workflow to be dehydrated" Workflow Size=2345
[32m controller | [mtime="2023-01-27T19:52:10.835Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3265534374/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:10.835Z" level=info msg="https://0.0.0.0:39623/api/v1/namespaces/argo/pods/dag-diamond-jsontest-4h5t6-write-json-3265534374/exec?command=%2Fvar%2Frun%2Fargo%2Fargoexec&command=kill&command=15&command=1&container=wait&stderr=true&stdout=true&tty=false"
[32m controller | [mtime="2023-01-27T19:52:10.836Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:10.836Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526437 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:10.836Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526437\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6.a"
[32m controller | [mtime="2023-01-27T19:52:10.839Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:10.843Z" level=info msg="Create pods/exec 101"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.889Z" level=info msg="stopping progress monitor (context done)" error="context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.889Z" level=info msg="Deadline monitor stopped"
[32m controller | [mtime="2023-01-27T19:52:10.891Z" level=info msg="signaled container" container=wait error="<nil>" namespace=argo pod=dag-diamond-jsontest-4h5t6-write-json-3265534374 stderr= stdout="killing 1 with terminated\n"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=warning msg="Non-transient error: context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Main container completed" error="context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="No Script output reference in workflow. Capturing script output ignored"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Saving output parameters"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Saving path output parameter: stepout"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Copying /tmp/myfile.json from base image layer"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Successfully saved output parameter: stepout"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="No output artifacts"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="S3 Save path: /tmp/argo/outputs/logs/main.log, key: dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3265534374/main.log"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Creating minio client using static credentials" endpoint="minio:9000"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.914Z" level=info msg="Saving file to s3" bucket=my-bucket endpoint="minio:9000" key=dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3265534374/main.log path=/tmp/argo/outputs/logs/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.926Z" level=info msg="Save artifact" artifactName=main-logs duration=11.992431ms error="<nil>" key=dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3265534374/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.926Z" level=info msg="not deleting local artifact" localArtPath=/tmp/argo/outputs/logs/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.926Z" level=info msg="Successfully saved file: /tmp/argo/outputs/logs/main.log"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.933Z" level=info msg="Create workflowtaskresults 201"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3265534374 wait time="2023-01-27T08:52:10.934Z" level=info msg="Alloc=7416 TotalAlloc=13005 Sys=24786 NumGC=4 Goroutines=7"
[33m       logs | [m- dag-diamond-jsontest-4h5t6-write-json-3265534374 › wait
[32m controller | [mtime="2023-01-27T19:52:11.934Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="task-result changed" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-3265534374 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="node unchanged" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-3265534374 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.a: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.a of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.935Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:11.936Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"False\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-3265534374\":{\"outputs\":{\"artifacts\":[{\"name\":\"main-logs\",\"s3\":{\"key\":\"dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3265534374/main.log\"}}],\"parameters\":[{\"name\":\"stepout\",\"value\":\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\",\"valueFrom\":{\"path\":\"/tmp/myfile.json\"}}]}}}}}"
[32m controller | [mtime="2023-01-27T19:52:11.936Z" level=info msg="Workflow to be dehydrated" Workflow Size=2562
[32m controller | [mtime="2023-01-27T19:52:11.940Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3265534374/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:11.941Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:11.941Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526441 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:13.892Z" level=info msg="cleaning up pod" action=killContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3265534374/killContainers
[32m controller | [mtime="2023-01-27T19:52:14.826Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:14.829Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=info msg="node changed" namespace=argo new.message= new.phase=Succeeded new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-3265534374 old.message= old.phase=Running old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=info msg="adding param to global scope key: <stepout> with value: [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.840Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing item {\"dummyv1\": \"one\", \"dummyv2\": \"two\"} for task b"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="Got a map" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="REPLACE MAP: map[item:{\"dummyv1\":\"one\",\"dummyv2\":\"two\"} item.dummyv1:one item.dummyv2:two]" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg=isitha6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6.b: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="TaskGroup node dag-diamond-jsontest-4h5t6-3248756755 initialized Running (message: )" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="All of node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) dependencies [a] completed" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg=isitha10
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=info msg="Pod node dag-diamond-jsontest-4h5t6-362166613 initialized Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.841Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:14.842Z" level=debug namespace=argo needLocation=true workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.842Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:14.842Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:14.842Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:14.843Z" level=debug msg="Creating Pod: dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) (dag-diamond-jsontest-4h5t6-write-json-362166613)" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.846Z" level=info msg="Create pods 201"
[32m controller | [mtime="2023-01-27T19:52:14.847Z" level=info msg="Created pod: dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) (dag-diamond-jsontest-4h5t6-write-json-362166613)" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.847Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.847Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.847Z" level=debug msg="Log changes patch: {\"status\":{\"nodes\":{\"dag-diamond-jsontest-4h5t6-3248756755\":{\"boundaryID\":\"dag-diamond-jsontest-4h5t6\",\"children\":[\"dag-diamond-jsontest-4h5t6-362166613\"],\"displayName\":\"b\",\"finishedAt\":null,\"id\":\"dag-diamond-jsontest-4h5t6-3248756755\",\"name\":\"dag-diamond-jsontest-4h5t6.b\",\"phase\":\"Running\",\"startedAt\":\"2023-01-27T08:52:14Z\",\"templateName\":\"write-json\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"TaskGroup\"},\"dag-diamond-jsontest-4h5t6-3265534374\":{\"children\":[\"dag-diamond-jsontest-4h5t6-3248756755\"],\"finishedAt\":\"2023-01-27T08:52:10Z\",\"phase\":\"Succeeded\",\"resourcesDuration\":{\"cpu\":4,\"memory\":3}},\"dag-diamond-jsontest-4h5t6-362166613\":{\"boundaryID\":\"dag-diamond-jsontest-4h5t6\",\"displayName\":\"b(0:dummyv1:one,dummyv2:two)\",\"finishedAt\":null,\"id\":\"dag-diamond-jsontest-4h5t6-362166613\",\"inputs\":{\"parameters\":[{\"name\":\"dummyv1\",\"value\":\"tmp\"},{\"name\":\"dummyv2\",\"value\":\"tmp2\"}]},\"name\":\"dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)\",\"phase\":\"Pending\",\"startedAt\":\"2023-01-27T08:52:14Z\",\"templateName\":\"write-json\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"Pod\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:14.847Z" level=info msg="Workflow to be dehydrated" Workflow Size=3260
[32m controller | [mtime="2023-01-27T19:52:14.853Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:14.853Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526447 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:14.853Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526447\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeSucceeded' Succeeded node dag-diamond-jsontest-4h5t6.a"
[32m controller | [mtime="2023-01-27T19:52:14.853Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526447\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6.b"
[32m controller | [mtime="2023-01-27T19:52:14.857Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:14.859Z" level=info msg="cleaning up pod" action=labelPodCompleted key=argo/dag-diamond-jsontest-4h5t6-write-json-3265534374/labelPodCompleted
[32m controller | [mtime="2023-01-27T19:52:14.860Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:14.883Z" level=info msg="Patch pods 200"
[32m controller | [mtime="2023-01-27T19:52:15.849Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="node changed" namespace=argo new.message=PodInitializing new.phase=Pending new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-362166613 old.message= old.phase=Pending old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing item {\"dummyv1\": \"one\", \"dummyv2\": \"two\"} for task b"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="Got a map" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="REPLACE MAP: map[item:{\"dummyv1\":\"one\",\"dummyv2\":\"two\"} item.dummyv1:one item.dummyv2:two]" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) of Pod is Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Skipped pod dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) (dag-diamond-jsontest-4h5t6-362166613) creation: already exists" namespace=argo podPhase=Pending workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=debug msg="Log changes patch: {\"status\":{\"nodes\":{\"dag-diamond-jsontest-4h5t6-362166613\":{\"hostNodeName\":\"k3d-k3s-default-server-0\",\"message\":\"PodInitializing\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:15.850Z" level=info msg="Workflow to be dehydrated" Workflow Size=3299
[32m controller | [mtime="2023-01-27T19:52:15.854Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:15.854Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526458 workflow=dag-diamond-jsontest-4h5t6
[33m       logs | [m+ dag-diamond-jsontest-4h5t6-write-json-362166613 › wait
[33m       logs | [m+ dag-diamond-jsontest-4h5t6-write-json-362166613 › main
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:15.950Z" level=info msg="Starting Workflow Executor" version=latest+5a5de67.dirty
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:15.951Z" level=info msg="Using executor retry strategy" Duration=1s Factor=1.6 Jitter=0.5 Steps=5
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:15.951Z" level=info msg="Executor initialized" deadline="2023-01-27 08:57:07 +0000 UTC" includeScriptOutput=false namespace=argo podName=dag-diamond-jsontest-4h5t6-write-json-362166613 template="{\"name\":\"write-json\",\"inputs\":{\"parameters\":[{\"name\":\"dummyv1\",\"value\":\"tmp\"},{\"name\":\"dummyv2\",\"value\":\"tmp2\"}]},\"outputs\":{\"parameters\":[{\"name\":\"stepout\",\"valueFrom\":{\"path\":\"/tmp/myfile.json\"}}]},\"metadata\":{},\"script\":{\"name\":\"\",\"image\":\"python:alpine3.6\",\"command\":[\"python\"],\"resources\":{},\"source\":\"import json\\nargs = [dict(dummyv1='one', dummyv2='two')]\\nwith open(\\\"/tmp/myfile.json\\\", \\\"w\\\") as fd:\\n  tmp = json.dumps(args)\\n  fd.write(tmp)\\n\"},\"archiveLocation\":{\"archiveLogs\":true,\"s3\":{\"endpoint\":\"minio:9000\",\"bucket\":\"my-bucket\",\"insecure\":true,\"accessKeySecret\":{\"name\":\"my-minio-cred\",\"key\":\"accesskey\"},\"secretKeySecret\":{\"name\":\"my-minio-cred\",\"key\":\"secretkey\"},\"key\":\"dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-362166613\"}}}" version="&Version{Version:latest+5a5de67.dirty,BuildDate:2023-01-27T08:21:51Z,GitCommit:5a5de6728ad717754c14f574d398228edb2cf999,GitTag:untagged,GitTreeState:dirty,GoVersion:go1.18.10,Compiler:gc,Platform:linux/amd64,}"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:15.951Z" level=info msg="Starting deadline monitor"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 main time="2023-01-27T08:52:16.030Z" level=info msg="capturing logs" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 main time="2023-01-27T08:52:16.085Z" level=debug msg="ignore signal child exited" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 main time="2023-01-27T08:52:17.031Z" level=info msg="sub-process exited" argo=true error="<nil>"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 main time="2023-01-27T08:52:17.031Z" level=info msg="/tmp/myfile.json -> /var/run/argo/outputs/parameters//tmp/myfile.json" argo=true
[32m controller | [mtime="2023-01-27T19:52:17.842Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="node changed" namespace=argo new.message= new.phase=Running new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-362166613 old.message=PodInitializing old.phase=Pending old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing item {\"dummyv1\": \"one\", \"dummyv2\": \"two\"} for task b"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="Got a map" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="REPLACE MAP: map[item:{\"dummyv1\":\"one\",\"dummyv2\":\"two\"} item.dummyv1:one item.dummyv2:two]" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:17.843Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.844Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.844Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.844Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"True\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-362166613\":{\"message\":null,\"phase\":\"Running\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:17.844Z" level=info msg="Workflow to be dehydrated" Workflow Size=3283
[33m       logs | [m- dag-diamond-jsontest-4h5t6-write-json-362166613 › main
[32m controller | [mtime="2023-01-27T19:52:17.848Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:17.848Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526467 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:17.848Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526467\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)"
[32m controller | [mtime="2023-01-27T19:52:17.850Z" level=info msg="Create events 201"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.952Z" level=info msg="Main container completed" error="<nil>"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="stopping progress monitor (context done)" error="context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Deadline monitor stopped"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="No Script output reference in workflow. Capturing script output ignored"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Saving output parameters"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Saving path output parameter: stepout"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Copying /tmp/myfile.json from base image layer"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Successfully saved output parameter: stepout"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="No output artifacts"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="S3 Save path: /tmp/argo/outputs/logs/main.log, key: dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-362166613/main.log"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Creating minio client using static credentials" endpoint="minio:9000"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.953Z" level=info msg="Saving file to s3" bucket=my-bucket endpoint="minio:9000" key=dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-362166613/main.log path=/tmp/argo/outputs/logs/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.965Z" level=info msg="Save artifact" artifactName=main-logs duration=12.069593ms error="<nil>" key=dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-362166613/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.965Z" level=info msg="not deleting local artifact" localArtPath=/tmp/argo/outputs/logs/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.965Z" level=info msg="Successfully saved file: /tmp/argo/outputs/logs/main.log"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.969Z" level=info msg="Create workflowtaskresults 201"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-362166613 wait time="2023-01-27T08:52:17.969Z" level=info msg="Alloc=7763 TotalAlloc=13095 Sys=24786 NumGC=4 Goroutines=7"
[32m controller | [mtime="2023-01-27T19:52:18.846Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.846Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=2 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="task-result changed" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-362166613 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="node changed" namespace=argo new.message= new.phase=Running new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-362166613 old.message= old.phase=Running old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="adding param to global scope key: <stepout> with value: [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="processing item {\"dummyv1\": \"one\", \"dummyv2\": \"two\"} for task b"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="Got a map" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="REPLACE MAP: map[item:{\"dummyv1\":\"one\",\"dummyv2\":\"two\"} item.dummyv1:one item.dummyv2:two]" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:18.847Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:18.848Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:18.848Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:18.848Z" level=info msg="processing param for output params with key: stepout"
[33m       logs | [m- dag-diamond-jsontest-4h5t6-write-json-362166613 › wait
[32m controller | [mtime="2023-01-27T19:52:18.848Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.848Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.848Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:18.849Z" level=debug msg="Log changes patch: {\"status\":{\"nodes\":{\"dag-diamond-jsontest-4h5t6-362166613\":{\"outputs\":{\"artifacts\":[{\"name\":\"main-logs\",\"s3\":{\"key\":\"dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-362166613/main.log\"}}],\"exitCode\":\"0\",\"parameters\":[{\"name\":\"stepout\",\"value\":\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\",\"valueFrom\":{\"path\":\"/tmp/myfile.json\"}}]}}}}}"
[32m controller | [mtime="2023-01-27T19:52:18.849Z" level=info msg="Workflow to be dehydrated" Workflow Size=3503
[32m controller | [mtime="2023-01-27T19:52:18.853Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-362166613/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:18.855Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:18.855Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526471 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.832Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:19.834Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:19.849Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.849Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.849Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=2 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.849Z" level=info msg="node unchanged" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-362166613 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing item {\"dummyv1\": \"one\", \"dummyv2\": \"two\"} for task b"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="Got a map" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="REPLACE MAP: map[item:{\"dummyv1\":\"one\",\"dummyv2\":\"two\"} item.dummyv1:one item.dummyv2:two]" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.850Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:19.855Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-362166613/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:19.914Z" level=debug msg="Syncing all CronWorkflows"
[32m controller | [mtime="2023-01-27T19:52:21.853Z" level=info msg="cleaning up pod" action=killContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-362166613/killContainers
[32m controller | [mtime="2023-01-27T19:52:21.855Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.855Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.855Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=2 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="node changed" namespace=argo new.message= new.phase=Succeeded new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-362166613 old.message= old.phase=Running old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding param to global scope key: <stepout> with value: [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing item {\"dummyv1\": \"one\", \"dummyv2\": \"two\"} for task b"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="Got a map" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="REPLACE MAP: map[item:{\"dummyv1\":\"one\",\"dummyv2\":\"two\"} item.dummyv1:one item.dummyv2:two]" task.Name=b
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two) already completed" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="node dag-diamond-jsontest-4h5t6-3248756755 phase Running -> Succeeded" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="node dag-diamond-jsontest-4h5t6-3248756755 finished: 2023-01-27 08:52:21.85652129 +0000 UTC" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task c"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="Got a string number or bool" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg=isitha6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6.c: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="TaskGroup node dag-diamond-jsontest-4h5t6-3231979136 initialized Running (message: )" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="All of node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) dependencies [b] completed" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg=isitha10
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=info msg="Pod node dag-diamond-jsontest-4h5t6-3909991870 initialized Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:21.856Z" level=debug namespace=argo needLocation=true workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.857Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:21.857Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:21.857Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:21.857Z" level=debug msg="Creating Pod: dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) (dag-diamond-jsontest-4h5t6-write-json-3909991870)" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.863Z" level=info msg="Create pods 201"
[32m controller | [mtime="2023-01-27T19:52:21.863Z" level=info msg="Created pod: dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) (dag-diamond-jsontest-4h5t6-write-json-3909991870)" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.863Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.863Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.864Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"False\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-3231979136\":{\"boundaryID\":\"dag-diamond-jsontest-4h5t6\",\"children\":[\"dag-diamond-jsontest-4h5t6-3909991870\"],\"displayName\":\"c\",\"finishedAt\":null,\"id\":\"dag-diamond-jsontest-4h5t6-3231979136\",\"name\":\"dag-diamond-jsontest-4h5t6.c\",\"phase\":\"Running\",\"startedAt\":\"2023-01-27T08:52:21Z\",\"templateName\":\"write-json\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"TaskGroup\"},\"dag-diamond-jsontest-4h5t6-3248756755\":{\"finishedAt\":\"2023-01-27T08:52:21Z\",\"phase\":\"Succeeded\"},\"dag-diamond-jsontest-4h5t6-362166613\":{\"children\":[\"dag-diamond-jsontest-4h5t6-3231979136\"],\"finishedAt\":\"2023-01-27T08:52:17Z\",\"phase\":\"Succeeded\",\"resourcesDuration\":{\"cpu\":3,\"memory\":2}},\"dag-diamond-jsontest-4h5t6-3909991870\":{\"boundaryID\":\"dag-diamond-jsontest-4h5t6\",\"displayName\":\"c(0:[{\\\\\\\"dummyv1\\\\\\\": \\\\\\\"one\\\\\\\", \\\\\\\"dummyv2\\\\\\\": \\\\\\\"two\\\\\\\"}])\",\"finishedAt\":null,\"id\":\"dag-diamond-jsontest-4h5t6-3909991870\",\"inputs\":{\"parameters\":[{\"name\":\"dummyv1\",\"value\":\"tmp\"},{\"name\":\"dummyv2\",\"value\":\"tmp2\"}]},\"name\":\"dag-diamond-jsontest-4h5t6.c(0:[{\\\\\\\"dummyv1\\\\\\\": \\\\\\\"one\\\\\\\", \\\\\\\"dummyv2\\\\\\\": \\\\\\\"two\\\\\\\"}])\",\"phase\":\"Pending\",\"startedAt\":\"2023-01-27T08:52:21Z\",\"templateName\":\"write-json\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"Pod\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:21.864Z" level=info msg="Workflow to be dehydrated" Workflow Size=4263
[32m controller | [mtime="2023-01-27T19:52:21.875Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:21.875Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526476 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:21.875Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526476\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6.c"
[32m controller | [mtime="2023-01-27T19:52:21.875Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526476\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeSucceeded' Succeeded node dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)"
[32m controller | [mtime="2023-01-27T19:52:21.875Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526476\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeSucceeded' Succeeded node dag-diamond-jsontest-4h5t6.b"
[32m controller | [mtime="2023-01-27T19:52:21.881Z" level=info msg="cleaning up pod" action=labelPodCompleted key=argo/dag-diamond-jsontest-4h5t6-write-json-362166613/labelPodCompleted
[32m controller | [mtime="2023-01-27T19:52:21.882Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:21.886Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:21.888Z" level=info msg="Patch pods 200"
[32m controller | [mtime="2023-01-27T19:52:21.897Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=2 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=info msg="node changed" namespace=argo new.message=PodInitializing new.phase=Pending new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-3909991870 old.message= old.phase=Pending old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.866Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task c"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="Got a string number or bool" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) of Pod is Pending" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (diamond)"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Skipped pod dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) (dag-diamond-jsontest-4h5t6-3909991870) creation: already exists" namespace=argo podPhase=Pending workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=debug msg="Log changes patch: {\"status\":{\"nodes\":{\"dag-diamond-jsontest-4h5t6-3909991870\":{\"hostNodeName\":\"k3d-k3s-default-server-0\",\"message\":\"PodInitializing\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:22.867Z" level=info msg="Workflow to be dehydrated" Workflow Size=4302
[32m controller | [mtime="2023-01-27T19:52:22.871Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:22.871Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526488 workflow=dag-diamond-jsontest-4h5t6
[33m       logs | [m+ dag-diamond-jsontest-4h5t6-write-json-3909991870 › wait
[33m       logs | [m+ dag-diamond-jsontest-4h5t6-write-json-3909991870 › main
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 main time="2023-01-27T08:52:23.035Z" level=info msg="capturing logs" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 main time="2023-01-27T08:52:23.090Z" level=debug msg="ignore signal child exited" argo=true
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:22.945Z" level=info msg="Starting Workflow Executor" version=latest+5a5de67.dirty
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:22.946Z" level=info msg="Using executor retry strategy" Duration=1s Factor=1.6 Jitter=0.5 Steps=5
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:22.946Z" level=info msg="Executor initialized" deadline="2023-01-27 08:57:07 +0000 UTC" includeScriptOutput=false namespace=argo podName=dag-diamond-jsontest-4h5t6-write-json-3909991870 template="{\"name\":\"write-json\",\"inputs\":{\"parameters\":[{\"name\":\"dummyv1\",\"value\":\"tmp\"},{\"name\":\"dummyv2\",\"value\":\"tmp2\"}]},\"outputs\":{\"parameters\":[{\"name\":\"stepout\",\"valueFrom\":{\"path\":\"/tmp/myfile.json\"}}]},\"metadata\":{},\"script\":{\"name\":\"\",\"image\":\"python:alpine3.6\",\"command\":[\"python\"],\"resources\":{},\"source\":\"import json\\nargs = [dict(dummyv1='one', dummyv2='two')]\\nwith open(\\\"/tmp/myfile.json\\\", \\\"w\\\") as fd:\\n  tmp = json.dumps(args)\\n  fd.write(tmp)\\n\"},\"archiveLocation\":{\"archiveLogs\":true,\"s3\":{\"endpoint\":\"minio:9000\",\"bucket\":\"my-bucket\",\"insecure\":true,\"accessKeySecret\":{\"name\":\"my-minio-cred\",\"key\":\"accesskey\"},\"secretKeySecret\":{\"name\":\"my-minio-cred\",\"key\":\"secretkey\"},\"key\":\"dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3909991870\"}}}" version="&Version{Version:latest+5a5de67.dirty,BuildDate:2023-01-27T08:21:51Z,GitCommit:5a5de6728ad717754c14f574d398228edb2cf999,GitTag:untagged,GitTreeState:dirty,GoVersion:go1.18.10,Compiler:gc,Platform:linux/amd64,}"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:22.946Z" level=info msg="Starting deadline monitor"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 main time="2023-01-27T08:52:24.037Z" level=info msg="sub-process exited" argo=true error="<nil>"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 main time="2023-01-27T08:52:24.037Z" level=info msg="/tmp/myfile.json -> /var/run/argo/outputs/parameters//tmp/myfile.json" argo=true
[32m controller | [mtime="2023-01-27T19:52:24.837Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:24.841Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:24.859Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[33m       logs | [m- dag-diamond-jsontest-4h5t6-write-json-3909991870 › main
[32m controller | [mtime="2023-01-27T19:52:24.860Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=2 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="node changed" namespace=argo new.message= new.phase=Running new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-3909991870 old.message=PodInitializing old.phase=Pending old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task c"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="Got a string number or bool" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:24.861Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"True\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-3909991870\":{\"message\":null,\"outputs\":{\"exitCode\":\"0\"},\"phase\":\"Running\"}}}}"
[32m controller | [mtime="2023-01-27T19:52:24.862Z" level=info msg="Workflow to be dehydrated" Workflow Size=4291
[32m controller | [mtime="2023-01-27T19:52:24.867Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3909991870/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:24.867Z" level=info msg="https://0.0.0.0:39623/api/v1/namespaces/argo/pods/dag-diamond-jsontest-4h5t6-write-json-3909991870/exec?command=%2Fvar%2Frun%2Fargo%2Fargoexec&command=kill&command=15&command=1&container=wait&stderr=true&stdout=true&tty=false"
[32m controller | [mtime="2023-01-27T19:52:24.868Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:24.869Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526498 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:24.869Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526498\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}])"
[32m controller | [mtime="2023-01-27T19:52:24.871Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:24.877Z" level=info msg="Create pods/exec 101"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.935Z" level=info msg="stopping progress monitor (context done)" error="context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.936Z" level=info msg="Deadline monitor stopped"
[32m controller | [mtime="2023-01-27T19:52:24.937Z" level=info msg="signaled container" container=wait error="<nil>" namespace=argo pod=dag-diamond-jsontest-4h5t6-write-json-3909991870 stderr= stdout="killing 1 with terminated\n"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=warning msg="Non-transient error: context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Main container completed" error="context canceled"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="No Script output reference in workflow. Capturing script output ignored"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Saving output parameters"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Saving path output parameter: stepout"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Copying /tmp/myfile.json from base image layer"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Successfully saved output parameter: stepout"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="No output artifacts"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="S3 Save path: /tmp/argo/outputs/logs/main.log, key: dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3909991870/main.log"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Creating minio client using static credentials" endpoint="minio:9000"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.947Z" level=info msg="Saving file to s3" bucket=my-bucket endpoint="minio:9000" key=dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3909991870/main.log path=/tmp/argo/outputs/logs/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.959Z" level=info msg="Save artifact" artifactName=main-logs duration=11.870457ms error="<nil>" key=dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3909991870/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.959Z" level=info msg="not deleting local artifact" localArtPath=/tmp/argo/outputs/logs/main.log
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.959Z" level=info msg="Successfully saved file: /tmp/argo/outputs/logs/main.log"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.970Z" level=info msg="Create workflowtaskresults 201"
[33m       logs | [mdag-diamond-jsontest-4h5t6-write-json-3909991870 wait time="2023-01-27T08:52:24.971Z" level=info msg="Alloc=7829 TotalAlloc=13110 Sys=24274 NumGC=4 Goroutines=7"
[32m controller | [mtime="2023-01-27T19:52:25.861Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=3 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="task-result changed" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-3909991870 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="node unchanged" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-3909991870 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task c"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="Got a string number or bool" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:25.862Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:25.863Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.863Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.863Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:25.863Z" level=debug msg="Log changes patch: {\"status\":{\"conditions\":[{\"status\":\"False\",\"type\":\"PodRunning\"}],\"nodes\":{\"dag-diamond-jsontest-4h5t6-3909991870\":{\"outputs\":{\"artifacts\":[{\"name\":\"main-logs\",\"s3\":{\"key\":\"dag-diamond-jsontest-4h5t6/dag-diamond-jsontest-4h5t6-write-json-3909991870/main.log\"}}],\"parameters\":[{\"name\":\"stepout\",\"value\":\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\",\"valueFrom\":{\"path\":\"/tmp/myfile.json\"}}]}}}}}"
[32m controller | [mtime="2023-01-27T19:52:25.863Z" level=info msg="Workflow to be dehydrated" Workflow Size=4508
[33m       logs | [m- dag-diamond-jsontest-4h5t6-write-json-3909991870 › wait
[32m controller | [mtime="2023-01-27T19:52:25.867Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3909991870/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:25.868Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:25.868Z" level=info msg="Workflow update successful" namespace=argo phase=Running resourceVersion=526502 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=3 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=info msg="node unchanged" namespace=argo nodeID=dag-diamond-jsontest-4h5t6-3909991870 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.865Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task c"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="Got a string number or bool" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) of Pod is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.866Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:26.871Z" level=info msg="cleaning up pod" action=terminateContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3909991870/terminateContainers
[32m controller | [mtime="2023-01-27T19:52:27.938Z" level=info msg="cleaning up pod" action=killContainers key=argo/dag-diamond-jsontest-4h5t6-write-json-3909991870/killContainers
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=info msg="Processing workflow" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=info msg="substituting global variables" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=info msg="Task-result reconciliation" namespace=argo numObjs=3 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=info msg="node changed" namespace=argo new.message= new.phase=Succeeded new.progress=0/1 nodeID=dag-diamond-jsontest-4h5t6-3909991870 old.message= old.phase=Running old.progress=0/1 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=info msg="adding param to global scope key: <stepout> with value: [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6: template: *v1alpha1.WorkflowStep (diamond), boundaryID: " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.WorkflowStep (diamond)"
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Executing node dag-diamond-jsontest-4h5t6 of DAG is Running" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.875Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task c"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="Got a string number or bool" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=c
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Evaluating node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]): template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.DAGTask (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing inParam dummyv1"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing inParam dummyv2"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing param for output params with key: stepout"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]) already completed" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="node dag-diamond-jsontest-4h5t6-3231979136 phase Running -> Succeeded" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="node dag-diamond-jsontest-4h5t6-3231979136 finished: 2023-01-27 08:52:28.876345491 +0000 UTC" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}])" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.c.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="added tasks.c.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="running shouldExecute"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="expanding task now"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="processing item \"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\" for task d"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="Got a string number or bool" task.Name=d
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="REPLACE MAP: map[item:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]]" task.Name=d
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="running shouldExecute"
[32m controller | [m[32mmap[string]string[0m{
[32m controller | [m  [31m[1m"[0m[31mitem[0m[31m[1m"[0m: [31m[1m"[0m[31m[{[0m[35m[1m\\[0m[35m[1m\"[0m[31mdummyv1[0m[35m[1m\\[0m[35m[1m\"[0m[31m: [0m[35m[1m\\[0m[35m[1m\"[0m[31mone[0m[35m[1m\\[0m[35m[1m\"[0m[31m, [0m[35m[1m\\[0m[35m[1m\"[0m[31mdummyv2[0m[35m[1m\\[0m[35m[1m\"[0m[31m: [0m[35m[1m\\[0m[35m[1m\"[0m[31mtwo[0m[35m[1m\\[0m[35m[1m\"[0m[31m}][0m[31m[1m"[0m,
[32m controller | [m}
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=error msg="wasn't able to replace due to failed to resolve {{item.dummyv1}}" task.Name=d
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="isitha4 was not able to process item failed to resolve {{item.dummyv1}}"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="isitha4 due to err failed to resolve {{item.dummyv1}}"
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=debug msg="Initializing node dag-diamond-jsontest-4h5t6.d: template: *v1alpha1.DAGTask (write-json), boundaryID: dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.876Z" level=info msg="Skipped node dag-diamond-jsontest-4h5t6-3349422469 initialized Error (message: failed to resolve {{item.dummyv1}})" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="adding outputs to local scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="adding tasks.a.outputs.parameters.stepout to scope with value [{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.b(0:dummyv1:one,dummyv2:two)" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="added tasks.b.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="added tasks.b.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Resolving the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Getting the template by name" base="*v1alpha1.Workflow (namespace=argo,name=dag-diamond-jsontest-4h5t6)" depth=0 tmpl="*v1alpha1.NodeStatus (write-json)"
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="processing node outputs" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="assigning <[{\"dummyv1\": \"one\", \"dummyv2\": \"two\"}]> to param[stepout]" namespace=argo node="dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}])" workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="added tasks.c.outputs.result key to scope" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="added tasks.c.outputs.parameters.stepout to scope with value%!(EXTRA string=[\"[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}]\"])" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="Outbound nodes of dag-diamond-jsontest-4h5t6 set to [dag-diamond-jsontest-4h5t6-3349422469]" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="node dag-diamond-jsontest-4h5t6 phase Running -> Error" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="node dag-diamond-jsontest-4h5t6 finished: 2023-01-27 08:52:28.87735261 +0000 UTC" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="Checking daemoned children of dag-diamond-jsontest-4h5t6" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="TaskSet Reconciliation" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg=reconcileAgentPod namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="Updated phase Running -> Error" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="Marking workflow completed" namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=info msg="Checking daemoned children of " namespace=argo workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.877Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526502\", FieldPath:\"\"}): type: 'Warning' reason: 'WorkflowFailed' "
[32m controller | [mtime="2023-01-27T19:52:28.878Z" level=debug msg="Log changes patch: {\"metadata\":{\"labels\":{\"workflows.argoproj.io/completed\":\"true\",\"workflows.argoproj.io/phase\":\"Error\"}},\"status\":{\"conditions\":[{\"status\":\"False\",\"type\":\"PodRunning\"},{\"status\":\"True\",\"type\":\"Completed\"}],\"finishedAt\":\"2023-01-27T08:52:28Z\",\"nodes\":{\"dag-diamond-jsontest-4h5t6\":{\"finishedAt\":\"2023-01-27T08:52:28Z\",\"outboundNodes\":[\"dag-diamond-jsontest-4h5t6-3349422469\"],\"phase\":\"Error\"},\"dag-diamond-jsontest-4h5t6-3231979136\":{\"finishedAt\":\"2023-01-27T08:52:28Z\",\"phase\":\"Succeeded\"},\"dag-diamond-jsontest-4h5t6-3349422469\":{\"boundaryID\":\"dag-diamond-jsontest-4h5t6\",\"displayName\":\"d\",\"finishedAt\":\"2023-01-27T08:52:28Z\",\"id\":\"dag-diamond-jsontest-4h5t6-3349422469\",\"message\":\"failed to resolve {{item.dummyv1}}\",\"name\":\"dag-diamond-jsontest-4h5t6.d\",\"phase\":\"Error\",\"startedAt\":\"2023-01-27T08:52:28Z\",\"templateName\":\"write-json\",\"templateScope\":\"local/dag-diamond-jsontest-4h5t6\",\"type\":\"Skipped\"},\"dag-diamond-jsontest-4h5t6-362166613\":{\"children\":[\"dag-diamond-jsontest-4h5t6-3231979136\",\"dag-diamond-jsontest-4h5t6-3349422469\"]},\"dag-diamond-jsontest-4h5t6-3909991870\":{\"children\":[\"dag-diamond-jsontest-4h5t6-3349422469\"],\"finishedAt\":\"2023-01-27T08:52:24Z\",\"phase\":\"Succeeded\",\"resourcesDuration\":{\"cpu\":3,\"memory\":2}}},\"phase\":\"Error\"}}"
[32m controller | [mtime="2023-01-27T19:52:28.878Z" level=info msg="Workflow to be dehydrated" Workflow Size=5064
[32m controller | [mtime="2023-01-27T19:52:28.881Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:28.883Z" level=info msg="cleaning up pod" action=deletePod key=argo/dag-diamond-jsontest-4h5t6-1340600742-agent/deletePod
[32m controller | [mtime="2023-01-27T19:52:28.884Z" level=info msg="Update workflows 200"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=info msg="Workflow update successful" namespace=argo phase=Error resourceVersion=526506 workflow=dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526506\", FieldPath:\"\"}): type: 'Warning' reason: 'WorkflowNodeError' Error node dag-diamond-jsontest-4h5t6"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526506\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeSucceeded' Succeeded node dag-diamond-jsontest-4h5t6.c"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526506\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeRunning' Running node dag-diamond-jsontest-4h5t6.d: failed to resolve {{item.dummyv1}}"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526506\", FieldPath:\"\"}): type: 'Warning' reason: 'WorkflowNodeError' Error node dag-diamond-jsontest-4h5t6.d: failed to resolve {{item.dummyv1}}"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=debug msg="Event(v1.ObjectReference{Kind:\"Workflow\", Namespace:\"argo\", Name:\"dag-diamond-jsontest-4h5t6\", UID:\"4eec694c-2975-4799-b6ca-f4d3dece1556\", APIVersion:\"argoproj.io/v1alpha1\", ResourceVersion:\"526506\", FieldPath:\"\"}): type: 'Normal' reason: 'WorkflowNodeSucceeded' Succeeded node dag-diamond-jsontest-4h5t6.c(0:[{\\\"dummyv1\\\": \\\"one\\\", \\\"dummyv2\\\": \\\"two\\\"}])"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=info msg="Delete pods 404"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=info msg="Queueing Error workflow argo/dag-diamond-jsontest-ckd4w for delete due to max rention(2 workflows)"
[32m controller | [mtime="2023-01-27T19:52:28.885Z" level=info msg="Deleting garbage collected workflow 'argo/dag-diamond-jsontest-ckd4w'"
[32m controller | [mtime="2023-01-27T19:52:28.888Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:28.890Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:28.891Z" level=info msg="Delete workflows 200"
[32m controller | [mtime="2023-01-27T19:52:28.891Z" level=info msg="Successfully deleted 'argo/dag-diamond-jsontest-ckd4w'"
[32m controller | [mtime="2023-01-27T19:52:28.892Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:28.894Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:28.896Z" level=info msg="Create events 201"
[32m controller | [mtime="2023-01-27T19:52:28.898Z" level=info msg="DeleteCollection workflowtaskresults 200"
[32m controller | [mtime="2023-01-27T19:52:28.903Z" level=info msg="cleaning up pod" action=labelPodCompleted key=argo/dag-diamond-jsontest-4h5t6-write-json-3909991870/labelPodCompleted
[32m controller | [mtime="2023-01-27T19:52:28.908Z" level=info msg="Patch pods 200"
[32m controller | [mtime="2023-01-27T19:52:29.844Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:29.848Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:29.911Z" level=debug msg="Won't process Workflow since it's completed" key=argo/dag-diamond-jsontest-4h5t6
[32m controller | [mtime="2023-01-27T19:52:29.915Z" level=debug msg="Syncing all CronWorkflows"
[32m controller | [mtime="2023-01-27T19:52:34.852Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:34.857Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:39.862Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:39.865Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:39.915Z" level=debug msg="Syncing all CronWorkflows"
[32m controller | [mtime="2023-01-27T19:52:44.869Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:44.874Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:49.878Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:49.881Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:49.916Z" level=debug msg="Syncing all CronWorkflows"
[32m controller | [mtime="2023-01-27T19:52:54.885Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:54.891Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:59.895Z" level=info msg="Get leases 200"
[32m controller | [mtime="2023-01-27T19:52:59.899Z" level=info msg="Update leases 200"
[32m controller | [mtime="2023-01-27T19:52:59.913Z" level=debug msg="Check the workflow existence"
[32m cont
